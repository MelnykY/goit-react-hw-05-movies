{"version":3,"file":"static/js/137.f0d66e3e.chunk.js","mappings":"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","sources":["API/movieAPI.jsx","components/ListMovies/ListMovies.styled.jsx","components/ListMovies/ListMovies.jsx","components/SearchMovies/SearchMovies.styled.jsx","components/SearchMovies/SearchMovies.jsx","pages/Movies.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = 'bad873a72299f6199f58673bb9d2d11e';\nconst BASE_URL = 'https://api.themoviedb.org/3/';\n\nconst getTrending = async abort => {\n  const response = await axios.get(\n    `${BASE_URL}trending/movie/day?api_key=${API_KEY}`,\n    {\n      signal: abort.signal,\n    }\n  );\n  return response;\n};\n\nconst getSearchMovies = async (abort, query) => {\n  const response = await axios.get(\n    `${BASE_URL}search/movie?api_key=${API_KEY}&query=${query}`,\n    {\n      signal: abort.signal,\n    }\n  );\n  return response;\n};\n\nconst getMovieDetails = async (abort, id) => {\n  const response = await axios.get(\n    `${BASE_URL}movie/${id}?api_key=${API_KEY}`,\n    {\n      signal: abort.signal,\n    }\n  );\n  return response;\n};\n\nconst getMovieCredits = async (abort, id) => {\n  const response = await axios.get(\n    `${BASE_URL}movie/${id}/credits?api_key=${API_KEY}`,\n    {\n      signal: abort.signal,\n    }\n  );\n  return response;\n};\n\nconst getMovieReviews = async (abort, id) => {\n  const response = await axios.get(\n    `${BASE_URL}movie/${id}/reviews?api_key=${API_KEY}`,\n    {\n      signal: abort.signal,\n    }\n  );\n  return response;\n};\n\nexport {\n  getTrending,\n  getSearchMovies,\n  getMovieDetails,\n  getMovieCredits,\n  getMovieReviews,\n};\n","import styled from 'styled-components';\n\nexport const List = styled.ul`\nmargin-left: 20px;`;\n\nexport const Item = styled.li``;\n","import { Link, useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { List, Item } from './ListMovies.styled';\n\nconst ListMovies = ({ listMovies }) => {\n  const location = useLocation();\n  return (\n    <List>\n      {listMovies.map(({ id, title, name }) => (\n        <Item key={id}>\n          <Link to={`/movies/${id}`} state={{ from: location }}>\n            {title ?? name}\n          </Link>\n        </Item>\n      ))}\n    </List>\n  );\n};\nListMovies.propTypes = {\n  movies: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      name: PropTypes.string.isRequired,\n      title: PropTypes.string.isRequired,\n    })\n  ),\n};\nexport default ListMovies;\n","import styled from 'styled-components';\n\nexport const Form = styled.form``;\n\nexport const Input = styled.input`\n  width: 300px;\n  height: 25px;\n\n  &:hover {\n    border-color: blue;\n  }\n`;\nexport const Button = styled.button`\n  height: 25px;\n`;\n","import { useForm } from 'react-hook-form';\nimport { Form, Input, Button } from './SearchMovies.styled';\nimport PropTypes from 'prop-types';\n\nconst SearchMovies = ({ handleSub }) => {\n  const { register, handleSubmit, reset } = useForm();\n\n  const onSubmit = ({ name }) => {\n    if (!name.trim()) {\n      return;\n    }\n\n    handleSub(name);\n    reset();\n  };\n\n  return (\n    <Form onSubmit={handleSubmit(onSubmit)}>\n      <Input defaultValue={''} {...register('name')} />\n      <Button type=\"submit\">Search</Button>\n    </Form>\n  );\n};\n\nSearchMovies.propTypes = {\n  handleSub: PropTypes.func.isRequired,\n};\n\nexport default SearchMovies;\n","import { useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { getSearchMovies } from '../API/movieAPI';\nimport SearchMovies from 'components/SearchMovies/SearchMovies';\nimport ListMovies from 'components/ListMovies/ListMovies';\n\nconst Movies = () => {\n  const [movies, setMovies] = useState([]);\n  const [searchParams, setsearchParams] = useSearchParams();\n  const searchQuery = searchParams.get('searchQuery');\n\n  useEffect(() => {\n    if (!searchQuery) return;\n\n    const abortController = new AbortController();\n\n    getSearchMovies(abortController, searchQuery)\n      .then(response => {\n        setMovies(response.data.results);\n      })\n      .catch(error => {\n        return error;\n      });\n\n    return () => {\n      abortController.abort();\n    };\n  }, [searchQuery]);\n\n  const handleSubmit = name => {\n    setsearchParams({ searchQuery: name });\n  };\n\n  return (\n    <>\n      <SearchMovies handleSub={handleSubmit} />\n      {movies && <ListMovies listMovies={movies} />}\n    </>\n  );\n};\n\nexport default Movies;\n"],"names":["API_KEY","BASE_URL","getTrending","abort","axios","signal","response","getSearchMovies","query","getMovieDetails","id","getMovieCredits","getMovieReviews","List","styled","Item","listMovies","location","useLocation","map","title","name","to","state","from","Form","Input","Button","handleSub","useForm","register","handleSubmit","reset","onSubmit","trim","defaultValue","type","useState","movies","setMovies","useSearchParams","searchParams","setsearchParams","searchQuery","get","useEffect","abortController","AbortController","then","data","results","catch","error","ListMovies"],"sourceRoot":""}